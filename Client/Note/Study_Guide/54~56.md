Win32API 파일 입출력 및 UI 연동 학습 가이드
===

퀴즈
---

1. 그림판과 같은 프로그램에서 작업 내용을 파일로 저장하는 이유는 무엇인가요?
2. RAM(시스템 메모리)은 저장 장치와 비교했을 때 어떤 특징을 가지고 있으며, 이로 인해 파일 저장이 왜 중요한가요?
3. 파일의 확장자는 어떤 역할을 하나요? 확장자가 실제 파일의 내용물을 바꾸는 것은 아니라는 것을 설명해주세요.
4. 파일 입출력 시 '스트림(Stream)'이란 무엇을 의미하며, 어떤 역할을 하나요?
5. fopen 함수 사용 시 첫 번째 인자로 이중 포인터(FILE**)를 요구하는 이유는 무엇인가요?
6. fopen 함수를 쓰기 모드로 열었을 때 (파일이 존재하지 않는 경우와 존재하는 경우) 어떤 특징을 가지나요?
7. 텍스트 모드(w, r) 대신 바이너리 모드(wb, rb)를 사용하는 주된 이유는 무엇인가요?
8. 저장된 타일 정보를 로딩할 때, 개별 타일의 상세 정보보다 먼저 읽어야 할 정보는 무엇이며 그 이유는 무엇인가요?
9. Win32API에서 제공하는 파일 저장/열기 다이얼로그를 사용하는 주된 목적은 무엇이며, 이 다이얼로그가 실제 파일 데이터를 저장하는 역할을 하는지 설명해주세요.
10. UI 버튼과 같은 곳에서 특정 클래스의 멤버 함수를 호출하고 싶을 때, 전역 함수 포인터만으로는 부족한 이유가 무엇인가요?

퀴즈 정답
---

1.  메모리(RAM)에 있는 작업 데이터는 프로그램 종료나 컴퓨터 전원 차단 시 사라지기 때문입니다. 파일로 저장하면 영구 저장 장치에 데이터가 보존되어 나중에 다시 불러와 작업을 이어갈 수 있습니다.
2.  RAM은 전원이 꺼지면 데이터가 모두 사라지는 휘발성 장치입니다. 따라서 현재 실행 중인 프로그램의 모든 데이터는 RAM에 존재하므로, 작업을 지속적으로 유지하기 위해서는 영구 저장 장치에 파일 형태로 저장해야 합니다.
3.  확장자는 운영체제나 프로그램에게 해당 파일이 어떤 종류의 데이터(이미지, 문서, 사운드 등)인지를 알려주는 역할을 합니다. 확장자가 달라진다고 해서 실제 파일 내부에 저장된 바이너리 데이터 자체가 변하는 것은 아닙니다.
4.  스트림은 프로그램과 저장 장치(파일) 사이의 데이터를 바이트 단위로 전송하기 위한 연결 통로를 의미합니다. fopen 함수를 통해 파일 스트림을 열고, fclose 함수로 닫습니다.
5.  fopen 함수가 파일 스트림 생성 성공 시 생성된 파일 포인터의 주소 값을 반환하기 위함입니다. 함수 외부에서 선언된 파일 포인터 변수의 값을 직접 수정하기 위해서는 해당 변수의 주소를 넘겨주어야 합니다.
6.  쓰기 모드로 열면 파일이 존재하지 않을 경우 새로 생성합니다. 파일이 이미 존재할 경우에는 기존 내용을 지우고 새 내용으로 덮어씁니다.
7.  바이너리 모드는 데이터를 순수한 이진 데이터 그대로 다루는 반면, 텍스트 모드는 특정 제어 문자(예: ASCII 코드 27)를 만나면 데이터 전송을 중단하거나 다르게 처리할 수 있습니다. 의도치 않은 데이터 손실이나 파일 다침을 방지하기 위해 바이너리 모드를 사용합니다.
8.  개별 타일의 상세 정보(이미지 인덱스 등)보다 먼저 타일의 가로/세로 개수를 읽어야 합니다. 이 개수를 알아야 저장 당시와 동일한 개수의 타일 객체를 메모리에 생성하고, 그 이후에 각 타일 객체에 맞는 상세 정보를 순서대로 읽어와 설정할 수 있습니다.
9.  파일 저장/열기 다이얼로그는 사용자에게 익숙한 UI를 제공하여 저장 또는 불러올 파일의 경로와 이름을 쉽게 지정할 수 있도록 돕습니다. 이 다이얼로그 자체는 파일 데이터를 저장하는 것이 아니라, 사용자가 선택한 최종 경로 문자열을 프로그램에게 알려주는 역할만 합니다.
10. 멤버 함수는 특정 객체에 속해 있으므로, 멤버 함수를 호출하려면 해당 객체의 인스턴스가 필요합니다. 전역 함수 포인터는 단순히 함수의 코드 시작 주소만 가리키지만, 멤버 함수 포인터는 객체 정보와 함께 호출되어야 하므로 별도의 메커니즘과 포인터 타입이 필요합니다.

에세이 형식 질문
---

1. 프로그램 개발 시 파일 입출력 기능을 구현하는 과정에서 고려해야 할 주요 사항들(예: 에러 처리, 데이터 형식, 성능 등)에 대해 논하고, 각각이 왜 중요한지 설명하시오.
2. 바이너리 파일 형식으로 타일 맵 데이터를 저장하고 로딩하는 방식과, 텍스트 기반 파일 형식(예: JSON, XML)으로 동일한 데이터를 저장하고 로딩하는 방식을 비교 분석하고, 각 방식의 장단점 및 적합한 사용 사례에 대해 논하시오.
3. Win32API에서 제공하는 파일 다이얼로그(GetSaveFileName, GetOpenFileName) 사용 시 필요한 설정(구조체 멤버)들에 대해 설명하고, 이러한 설정들이 사용자 경험과 프로그램의 기능 구현에 어떻게 영향을 미치는지 구체적인 예시를 들어 설명하시오.
4. 다양한 UI 요소(버튼, 슬라이더 등)의 이벤트 처리를 범용적으로 구현하기 위해 멤버 함수 포인터 또는 이와 유사한 메커니즘(예: 이벤트 델리게이트, Observer 패턴)을 사용하는 방식의 필요성과 이점에 대해 논하시오.
5. 현재 구현된 타일 저장/로딩 기능에서, 씬(Scene) 객체가 타일 개수 정보를 저장하고, 개별 타일 객체가 자신의 상세 정보(이미지 인덱스)를 저장하도록 역할을 분리한 이유와 이러한 설계 방식이 객체 지향 설계 원칙(예: 단일 책임 원칙)과 유지보수성에 어떤 영향을 미치는지 설명하시오.

용어 사전 (Glossary of Key Terms)
---

1. ***RAM*** (Random Access Memory): 시스템 메모리. 프로그램이 실행될 때 데이터가 임시로 저장되는 휘발성 저장 장치. 전원이 꺼지면 내용이 모두 사라진다.
2. ***영구 저장 장치*** (Permanent Storage Device): 하드 디스크 드라이브(HDD), 솔리드 스테이트 드라이브(SSD) 등 전원이 꺼져도 데이터가 보존되는 저장 장치. 파일을 저장하는 주된 공간.
3. ***확장자*** (File Extension): 파일 이름 뒤에 붙는 점(.) 이후의 문자열(예: .txt, .png, .mp3). 파일의 종류를 나타낸다.
4. ***파일 스트림*** (File Stream): 프로그램과 파일 사이에 데이터를 바이트 단위로 읽거나 쓰기 위한 논리적인 연결 통로.
5. ***fopen***: C/C++ 표준 라이브러리 함수로, 지정된 경로의 파일을 특정 모드(읽기, 쓰기 등)로 열어 파일 스트림을 생성한다. 성공 시 FILE 포인터를 반환한다.
6. ***fclose***: C/C++ 표준 라이브러리 함수로, 열려 있는 파일 스트림을 닫고 관련 자원을 해제한다.
7. ***fwrite***: C/C++ 표준 라이브러리 함수로, 파일 스트림에 데이터를 쓰는 함수. 버퍼의 시작 주소, 데이터 요소 크기, 요소 개수, 파일 포인터를 인자로 받는다.
8. ***fread***: C/C++ 표준 라이브러리 함수로, 파일 스트림에서 데이터를 읽는 함수. 버퍼의 시작 주소, 데이터 요소 크기, 요소 개수, 파일 포인터를 인자로 받는다.
9. ***바이너리 모드*** (Binary Mode): 파일 입출력 시 데이터를 순수한 바이트 스트림으로 처리하는 모드. 데이터 변환 없이 있는 그대로 읽고 쓴다.
10. ***텍스트 모드*** (Text Mode): 파일 입출력 시 데이터를 문자열로 처리하는 모드. 특정 문자에 대해 변환이 발생할 수 있다 (예: 개행 문자 처리).
11. ***상대 경로*** (Relative Path): 현재 작업 디렉토리를 기준으로 파일이나 폴더의 위치를 나타내는 경로.
12. ***절대 경로*** (Absolute Path): 파일 시스템의 루트 디렉토리부터 시작하여 파일이나 폴더의 정확한 위치를 나타내는 경로.
13. ***커널 오브젝트*** (Kernel Object): 운영체제 커널이 관리하는 자원. 파일 스트림과 같은 자원은 커널 오브젝트로 관리되며, 응용 프로그램은 운영체제가 제공하는 API를 통해 접근한다.
14. ***이중 포인터*** (Double Pointer): 포인터 변수의 주소를 저장하는 포인터. 함수 내부에서 함수 외부의 포인터 변수 값을 변경할 때 사용될 수 있다.
15. ***멤버 함수 포인터*** (Member Function Pointer): 특정 클래스의 멤버 함수의 주소를 저장하는 포인터. 해당 함수를 호출하기 위해서는 해당 클래스의 객체 인스턴스가 필요하다.
16. ***파일 다이얼로그*** (File Dialog): 운영체제에서 제공하는 표준 UI 요소로, 파일 저장 또는 불러오기 시 사용자에게 파일 시스템을 탐색하고 파일 경로와 이름을 지정할 수 있는 창을 제공한다.
17. ***OPENFILENAME***: Win32API에서 파일 열기 또는 저장 다이얼로그를 표시할 때 사용되는 정보를 담는 구조체.
18. ***GetOpenFileName***: Win32API 함수로, 파일 열기 표준 다이얼로그를 표시하고 사용자가 선택한 파일의 경로를 OPENFILENAME 구조체를 통해 반환한다.
19. ***GetSaveFileName***: Win32API 함수로, 파일 저장 표준 다이얼로그를 표시하고 사용자가 입력한 파일 이름과 경로를 OPENFILENAME 구조체를 통해 반환한다.
20. ***모달 다이얼로그*** (Modal Dialog): 특정 작업을 완료하거나 취소하기 전까지 부모 창이나 다른 프로그램과의 상호작용을 막는 다이얼로그 창. 파일 다이얼로그가 대표적인 예이다.