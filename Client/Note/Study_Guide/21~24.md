Win32API 리소스 및 경로 관리 스터디 가이드
===

퀴즈
---

1. 게임 개발에서 이미지나 사운드 데이터를 '리소스'라고 관리하는 이유는 무엇인가요? 또한, 텍스처라는 용어가 게임 개발에서 이미지 데이터를 의미하게 된 배경을 간단히 설명하세요.<br/>
2. 리소스 클래스가 공통적으로 가져야 하는 두 가지 주요 멤버 변수는 무엇이며, 각각 어떤 정보를 저장하고 어떤 역할을 하나요?<br/>
3. 파일 경로를 상대 경로로 관리하는 것의 장점은 무엇이며, 프로그램이 실행될 때 최종적으로 파일을 로딩하기 위해서는 어떤 종류의 경로가 필요하게 되나요?<br/>
4. 텍스처 클래스가 이미지 데이터를 관리하기 위해 멤버로 HDC와 HBITMAP을 가지는 이유는 무엇이며, 이들은 각각 어떤 역할을 수행하나요?<br/>
5. LoadImage 함수를 사용하여 파일로부터 비트맵 데이터를 로딩할 때, 이미지 타입 파라미터에 LR_CREATEDIBSECTION과 LR_LOADFROMFILE 플래그를 함께 사용하는 일반적인 이유는 무엇인가요?<br/>
6. 프로젝트 폴더의 위치가 변경될 수 있음에도 불구하고 프로그램이 리소스를 문제없이 로딩하기 위해 '경로 관리자(Path Manager)' 클래스를 설계하는 이유는 무엇인가요?<br/>
7. 경로 관리자가 콘텐츠 폴더까지의 절대 경로를 찾기 위해 사용하는 Win32 API 함수는 무엇이며, 이 함수는 어떤 방식으로 현재 프로그램의 실행 위치를 파악하나요?<br/>
8. 디버그 모드로 프로그램을 실행할 때와 실제 실행 파일로 실행할 때 현재 디렉토리가 다를 수 있는 이유는 무엇이며, 비주얼 스튜디오에서 이 문제를 해결하기 위해 설정할 수 있는 옵션은 무엇인가요?<br/>
9. 텍스처를 로딩한 후 해당 비트맵의 가로 및 세로 길이를 얻기 위해 사용되는 Win32 API 함수는 무엇이며, 어떤 구조체를 통해 해당 정보를 얻을 수 있나요?<br/>
10. BitBlt 함수와 TransparentBlt 함수의 주요 차이점은 무엇이며, 게임 개발에서 특정한 배경색을 가진 이미지의 특정 부분만 투명하게 그리려고 할 때 어떤 함수를 사용해야 하나요?<br/>

퀴즈 정답
---

1. 이미지나 사운드 데이터는 프로그램 실행에 필요한 자원이므로 효율적인 관리와 재사용을 위해 리소스로 취급합니다. 텍스처는 원래 직물의 질감을 의미했지만, 3D 폴리곤에 이미지 데이터를 입혀 표면의 시각적 정보를 표현하는 데 사용되면서 게임 개발에서 이미지 데이터와 동의어로 사용되게 되었습니다.<br/>
2. 두 가지 주요 멤버 변수는 '키 값(Key)'과 '상대 경로(Relative Path)'입니다. 키 값은 리소스를 고유하게 식별하고 관리하는 데 사용되며, 상대 경로는 프로그램의 실행 파일 위치를 기준으로 리소스 파일의 위치를 나타냅니다.<br/>
3. 상대 경로를 사용하면 프로그램이나 프로젝트 폴더의 위치가 변경되더라도 코드 수정 없이 리소스를 찾을 수 있어 유연성이 높습니다. 최종적으로 파일을 로딩하기 위해서는 프로그램의 실행 위치를 기준으로 한 절대 경로가 필요하며, 이는 상대 경로와 실행 위치 정보를 결합하여 얻을 수 있습니다.<br/>
4. HDC(Device Context)는 GDI 함수를 사용하여 화면에 그림을 그리는 데 필요한 정보를 담고 있는 핸들이며, HBITMAP은 메모리에 로드된 비트맵 이미지 데이터에 대한 핸들입니다. 텍스처 클래스는 로딩된 비트맵 데이터를 HDC와 연결하여 비트맵에 그림을 그리거나 다른 DC로 복사하는 등의 작업을 수행하기 위해 이 두 멤버를 가집니다.<br/>
5. LR_CREATEDIBSECTION 플래그는 파일로부터 로딩된 이미지 데이터를 DIB 섹션 형태로 생성하여 시스템 메모리에 직접 접근하고 조작할 수 있도록 하며, LR_LOADFROMFILE 플래그는 지정된 파일 경로에서 이미지를 로딩하도록 지시합니다. 이 두 플래그를 함께 사용하는 것은 파일로부터 이미지 데이터를 메모리에 로드하여 GDI에서 사용할 수 있는 비트맵 객체를 만들기 위한 일반적인 방법입니다.<br/>
6. 프로그램이 설치되는 경로는 사용자 환경에 따라 달라질 수 있으므로 절대 경로를 하드코딩하는 것은 비효율적입니다. 경로 관리자 클래스는 프로그램의 실행 위치를 기준으로 콘텐츠 폴더까지의 절대 경로를 동적으로 파악하고, 이를 통해 상대 경로를 사용하는 리소스 로딩을 일관성 있게 처리할 수 있도록 합니다.<br/>
7. 경로 관리자는 GetCurrentDirectory 함수를 사용하여 현재 프로그램이 실행되고 있는 디렉토리의 경로를 얻습니다. 이 함수는 호출 시점의 프로세스의 현재 작업 디렉토리에 대한 전체 경로를 문자열 형태로 반환합니다.<br/>
8. 디버그 모드에서는 비주얼 스튜디오 개발 환경이 프로그램을 실행시키므로 현재 디렉토리가 프로젝트 파일이나 솔루션 파일이 있는 경로로 설정될 수 있지만, 실제 실행 파일로 실행하면 현재 디렉토리는 실행 파일이 위치한 폴더가 됩니다. 비주얼 스튜디오의 프로젝트 설정에서 '디버깅' 탭의 '작업 디렉터리' 옵션을 수정하여 디버그 모드 실행 시의 현재 디렉토리를 명시적으로 지정할 수 있습니다.<br/>
9. 비트맵의 가로 및 세로 길이를 얻기 위해 GetObject 함수를 사용합니다. 이 함수는 GDI 객체에 대한 정보를 검색하여 지정된 구조체에 채워줍니다. 비트맵의 정보를 얻기 위해서는 BITMAP 구조체를 사용하여 GetObject 함수를 호출하면 해당 구조체의 bmWidth와 bmHeight 멤버를 통해 가로 및 세로 길이를 알 수 있습니다.<br/>
10. BitBlt 함수는 한 DC의 비트맵을 다른 DC로 단순히 복사하는 반면, TransparentBlt 함수는 원본 비트맵에서 특정 색상과 일치하는 픽셀을 투명하게 처리하여 대상 DC로 복사합니다. 특정 배경색을 가진 이미지의 원하는 객체 부분만 투명하게 그리려면 TransparentBlt 함수를 사용해야 합니다.<br/>

에세이 형식 질문
---

1. Win32 API를 사용하여 게임 리소스를 관리하는 전체적인 구조를 설명하고, 리소스 관리자 클래스의 역할과 이점을 구체적인 예시를 들어 논하시오.<br/>
2. 상대 경로와 절대 경로의 개념을 설명하고, 게임 개발 프로젝트에서 상대 경로를 사용하는 것이 왜 중요하며, 경로 관리자가 이를 어떻게 지원하는지 상세히 논하시오.<br/>
3. 텍스처 클래스를 설계할 때 HDC와 HBITMAP 멤버를 포함하는 이유를 설명하고, 파일로부터 텍스처를 로딩하고 화면에 그리는 과정을 Win32 API 함수를 중심으로 상세히 기술하시오.<br/>
4. 메모리 누수의 개념과 게임 프로그램에서 메모리 누수가 발생할 수 있는 상황을 설명하고, 개발 과정에서 메모리 누수를 방지하고 탐지하기 위한 효과적인 방법에 대해 논하시오.<br/>
5. BitBlt 함수와 TransparentBlt 함수의 기능 및 사용 시나리오를 비교 분석하고, 게임 개발에서 각 함수가 어떤 경우에 유용하게 사용될 수 있는지 구체적인 예시를 들어 설명하시오.<br/>

용어 사전
---

1. ***리소스*** (Resource): 프로그램 실행에 필요한 데이터 (이미지, 사운드, 폰트 등)를 효율적으로 관리하기 위한 개념.<br/>
2. ***텍스처*** (Texture): 3D 모델의 표면에 입혀 시각적인 디테일 (색상, 질감 등)을 표현하는 데 사용되는 이미지 데이터. 2D 게임에서는 스프라이트 이미지와 유사한 개념으로 사용됨.<br/>
3. ***상대 경로*** (Relative Path): 현재 작업 디렉토리 또는 특정 기준 위치를 기준으로 파일이나 폴더의 위치를 나타내는 경로.<br/>
4. ***절대 경로*** (Absolute Path): 루트 디렉토리부터 시작하여 파일이나 폴더의 정확한 위치를 나타내는 경로.<br/>
5. ***HDC*** (Device Context): 윈도우 화면 또는 메모리 상의 그리기 표면에 대한 정보를 담고 있는 핸들. GDI 함수를 사용하여 그림을 그리는 데 필수적임.<br/>
6. ***HBITMAP***: 메모리에 로드된 비트맵 이미지 데이터에 대한 핸들.<br/>
7. ***비트맵*** (Bitmap): 픽셀의 격자 무늬로 이루어진 이미지 데이터 형식. 각 픽셀은 색상 정보를 가짐.<br/>
8. ***메모리 DC*** (Memory Device Context): 실제 화면 DC와 호환되는 메모리 상의 DC. 더블 버퍼링 등에 사용됨.<br/>
9. ***비트 블리트*** (BitBlt): 하나의 DC에서 다른 DC로 비트맵의 사각형 영역을 복사하는 GDI 함수.<br/>
10. ***투명 블리트*** (TransparentBlt): 원본 DC에서 특정 색상을 투명하게 처리하여 대상 DC로 비트맵을 복사하는 GDI 함수.<br/>
11. ***싱글톤*** (Singleton): 프로그램 실행 동안 단 하나의 인스턴스만 생성되도록 보장하는 디자인 패턴.<br/>
12. ***맵*** (Map): 키-값 쌍으로 이루어진 연관 배열 자료 구조. 효율적인 검색 및 접근을 제공함.<br/>
13. ***이터레이터*** (Iterator): 컨테이너 (배열, 리스트, 맵 등)의 요소를 순차적으로 접근할 수 있도록 하는 객체.<br/>
14. ***메모리 누수*** (Memory Leak): 프로그램이 더 이상 사용하지 않는 메모리 공간을 해제하지 않아 시스템 자원을 낭비하는 현상.<br/>
15. ***프랜드*** (Friend): 클래스 외부의 함수나 클래스가 해당 클래스의 private 또는 protected 멤버에 접근할 수 있도록 허용하는 키워드.<br/>